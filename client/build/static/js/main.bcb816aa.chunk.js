(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,a){e.exports=a(85)},51:function(e,t,a){},52:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(23),s=a.n(o);a(51),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(6),c=a(9),l=a(11),u=a(10),m=(a(52),a(7)),v=a.n(m),d=a(16),p=a(18),h=a.n(p),f=(a(71),a(72),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).mouseEnter=function(){r.props.userEntersMe&&r.props.userEntersMe(r.props.videoSource)},r.mouseLeave=function(){r.props.userLeftMe&&r.props.userLeftMe()},r}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"thumbnail",onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave},n.a.createElement("img",{src:this.props.imageSource,alt:this.props.videoSource}))}}]),a}(r.Component)),b=function(e){var t=e.embedId;return n.a.createElement("div",{className:"video-responsive"},n.a.createElement("iframe",{src:"https://www.youtube.com/embed/".concat(t,"?&autoplay=1"),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"}))},E=a(21),w=a(22),g=function(){function e(){Object(i.a)(this,e)}return Object(c.a)(e,null,[{key:"_initialize",value:function(){e.serverUrl="https://cinema-trailer.herokuapp.com"}}]),e}();g.serverUrl=void 0,g._initialize();var y,k=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).showPreview=function(e){r.setState({embedId:e})},r.removePreview=function(){r.setState({embedId:""})},r.state={movies:[],previewImage:"",embedId:"",searchField:""},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(g.serverUrl+"/api/movies");case 3:t=e.sent,a=t.data,this.setState({movies:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.message);case 11:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"renderMovieSearch",value:function(){var e=this;return this.state.movies.filter((function(t){return t.name.toLowerCase().indexOf(e.state.searchField.toLowerCase())>-1})).map((function(t){return n.a.createElement("tr",{key:t.movieId},n.a.createElement("td",null,n.a.createElement("p",{className:"movie-name"},t.name)),n.a.createElement("td",null,t.reviewsCount>0?n.a.createElement(E.b,{to:"/review/"+t.movieId},n.a.createElement("p",{className:"movie-review one"},n.a.createElement("span",null," - ",t.reviewsCount," - "))):n.a.createElement("p",{className:"movie-review one"},n.a.createElement("span",null,"  No reviews  "))),n.a.createElement("td",{className:"movie-description"},t.description),n.a.createElement("td",{className:"movie-date"},new Date(t.date).toLocaleDateString()),n.a.createElement("td",{className:"movie-image"},n.a.createElement(f,{imageSource:g.serverUrl+"/uploads/"+t.imageFileName,userEntersMe:e.showPreview,userLeftMe:e.removePreview,videoSource:t.embedId})))}))}},{key:"renderAllMovies",value:function(){var e=this;return this.state.movies.map((function(t){return n.a.createElement("tr",{key:t.movieId},n.a.createElement("td",null,n.a.createElement("p",{className:"movie-name one"},t.name)),n.a.createElement("td",null,t.reviewsCount>0?n.a.createElement(E.b,{to:"/review/"+t.movieId},n.a.createElement("p",{className:"movie-review one"},n.a.createElement("span",null," - ",t.reviewsCount," - "))):n.a.createElement("p",{className:"movie-review one"},n.a.createElement("span",null,"  No reviews  "))),n.a.createElement("td",{className:"movie-description"},t.description),n.a.createElement("td",{className:"movie-date one"},new Date(t.date).toLocaleDateString()),n.a.createElement("td",{className:"movie-image"},n.a.createElement(f,{imageSource:g.serverUrl+"/uploads/"+t.imageFileName,userEntersMe:e.showPreview,userLeftMe:e.removePreview,videoSource:t.embedId})))}))}},{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"movies"},n.a.createElement("div",{className:"float-container"},n.a.createElement("div",{className:"search-container"},n.a.createElement("h2",{className:"float-child"},"Movies List : "),n.a.createElement("input",{className:"float-child",placeholder:"  Search . . .",onChange:function(t){return e.setState({searchField:t.target.value})}})),n.a.createElement("div",{className:"reviewButton-container"},n.a.createElement(w.a,{href:"/review/add-review",type:"submit",variant:"light"},"Add review here"))),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Movie name"),n.a.createElement("th",null,"Reviews"),n.a.createElement("th",null,"Description"),n.a.createElement("th",null,"Release Date"),n.a.createElement("th",{className:"blinking"},"Hover to View"))),n.a.createElement("tbody",null,""!==this.state.searchField?this.renderMovieSearch():this.renderAllMovies())),n.a.createElement("div",{className:"preview",style:{display:this.state.embedId?"block":"none"}},n.a.createElement(b,{embedId:this.state.embedId}))))}}]),a}(r.Component),j=a(5),x=a(25),O=(a(78),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).state={reviews:[],movieName:""},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t,a,r,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.match.params.movieId,e.next=4,h.a.get(g.serverUrl+"/review/"+t);case 4:a=e.sent,r=a.data,n=r[0].movie_name.toString(),this.setState({reviews:r,movieName:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0.message);case 13:case"end":return e.stop()}}),e,this,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("h2",null,this.state.movieName," Reviews:"),n.a.createElement("div",{className:"detail-container"},n.a.createElement(E.b,{to:"/",className:"hp"}," Back to Homepage"),n.a.createElement("br",null),this.state.reviews.reverse().map((function(e){return n.a.createElement("div",{key:e.reviewId},n.a.createElement(x.a,null,n.a.createElement(x.a.Header,null,n.a.createElement("img",{src:e.profile_pic?e.profile_pic:"/assets/images/userImage.jpg",alt:""}),n.a.createElement("div",{className:"persona"},e.user_name?e.user_name:"anonymous")),n.a.createElement(x.a.Body,null,n.a.createElement("blockquote",{className:"blockquote mb-0"},e.content),n.a.createElement("footer",{className:"blockquote-footer"},n.a.createElement("cite",{title:"Source Title"},e.dateAdded)))),n.a.createElement("p",null))}))))}}]),a}(r.Component)),S=a(31),N=a(44),I=a(45),C=a(19);!function(e){e[e.getUser=0]="getUser",e[e.logout=1]="logout"}(y||(y={}));var M=Object(I.a)((function(e,t){var a=Object(C.a)({},e);switch(t.type){case y.getUser:a.user=t.payload}return a}),new function e(){Object(i.a)(this,e),this.user=void 0,this.user=[]}),U=(a(79),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).unsubscribeStore=void 0,r.state={user:M.getState().user,userName:""},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t,a,r,n,o=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.unsubscribeStore=M.subscribe((function(){var e=M.getState().user;o.setState({user:e})})),e.prev=1,e.next=4,h.a.get(g.serverUrl+"auth/current_user",{withCredentials:!0});case 4:(t=e.sent)&&(a=t.data,r=a.name,this.setState({userName:r}),n={type:y.getUser,payload:a},M.dispatch(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("User is not logged in");case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement(S.a,{sticky:"top",bg:"light",variant:"light"},n.a.createElement(N.a,null,n.a.createElement("h1",{className:"main-header"},n.a.createElement("a",{href:"/"},"Trailer Cinema")),n.a.createElement(S.a.Collapse,{className:"justify-content-end"},this.state.user?n.a.createElement("p",{style:{margin:"10px"}},"Hey ",this.state.userName):null,this.state.userName?null:n.a.createElement(w.a,{href:"/auth/google/",variant:"outline-dark"},"Login with google"),this.state.userName?n.a.createElement(w.a,{href:"/auth/logout",variant:"outline-dark"},"Logout"):null))))}}]),a}(r.Component)),L=function e(t,a,r,n,o,s,c,l){Object(i.a)(this,e),this.movie_name=t,this.reviewId=a,this.movieId=r,this.content=n,this.dateAdded=o,this.userId=s,this.user_name=c,this.profile_pic=l},D=a(24),_=(a(80),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var r;return Object(i.a)(this,a),(r=t.call(this,e)).unsubscribeStore=void 0,r.setReview=function(){var e=Object(d.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.value,(n=Object(C.a)({},r.state.review)).content=a,r.setState({review:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.setMovieId=function(){var e=Object(d.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=+t.target.value,(n=Object(C.a)({},r.state.review)).movieId=a,n.dateAdded=(new Date).toLocaleString().split(",")[0],r.setState({review:n});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.addReview=Object(d.a)(v.a.mark((function e(){var t,a,n,o,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.state.userId,(a=Object(C.a)({},r.state.review)).userId=t,r.setState({review:a}),r.state.userId||((n=Object(C.a)({},r.state.errors)).nameError="Only authorized users can submit a review, Pls Log in..",r.setState({errors:n})),r.state.review.movieId){e.next=12;break}return(o=Object(C.a)({},r.state.errors)).nameError="Selecting a movie is required!",r.setState({errors:o}),e.abrupt("return");case 12:if(r.state.review.content&&!(r.state.review.content.split(" ").length<1)){e.next=17;break}return(s=Object(C.a)({},r.state.errors)).nameError="Review must contain at-least 1 word!",r.setState({errors:s}),e.abrupt("return");case 17:return e.prev=17,console.log("reached this far , Here is why "+JSON.stringify(a)),e.next=21,h.a.post(g.serverUrl+"/review/add-review",a);case 21:e.sent,r.props.history.push("/review/"+a.movieId),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(17),console.log("Error: "+e.t0.message);case 28:case"end":return e.stop()}}),e,null,[[17,25]])}))),r.state={review:new L,movies:[],errors:{nameError:""},user:M.getState().user,userId:null},r}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(v.a.mark((function e(){var t,a,r,n,o,s,i=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.unsubscribeStore=M.subscribe((function(){var e=M.getState().user;i.setState({user:e})})),e.prev=1,e.next=4,h.a.get(g.serverUrl+"/api/movies",{withCredentials:!0});case 4:return t=e.sent,a=t.data,this.setState({movies:a}),e.next=9,h.a.get(g.serverUrl+"/auth/current_user",{withCredentials:!0});case 9:r=e.sent,n=r.data,o=n.user_id,this.setState({userId:o}),s={type:y.getUser,payload:n},M.dispatch(s),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.log("User is not logged in");case 20:case"end":return e.stop()}}),e,this,[[1,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeStore()}},{key:"render",value:function(){return n.a.createElement("div",{className:"review-form"},n.a.createElement("h1",null,"Tell us what you think"),n.a.createElement("select",{onChange:this.setMovieId,value:this.state.review.movieId,defaultValue:"DEFAULT"},n.a.createElement("option",{disabled:!0,value:"DEFAULT"},"Select movie..."),this.state.movies.map((function(e){return n.a.createElement("option",{key:e.movieId,value:e.movieId},e.name)}))),n.a.createElement("span",null,this.state.errors.nameError),n.a.createElement(D.a,null,n.a.createElement(D.a.Group,{className:"mb-3",controlId:"exampleForm.ControlTextarea1"},n.a.createElement(D.a.Label,null),n.a.createElement(D.a.Control,{as:"textarea",rows:7,placeholder:"Type your review here . . . ",type:"text",onChange:this.setReview,value:this.state.review.content||""})),n.a.createElement(w.a,{variant:"light",onClick:this.addReview},"Submit your review")))}}]),a}(r.Component)),F=(a(82),function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("footer",{className:"web-footer"},"All Rights Reserved @Shirush")}}]),a}(r.Component)),R=(a(83),function(){return n.a.createElement("div",{className:"page-not-found"},n.a.createElement("img",{src:"/assets/images/page404.jpg",alt:""}))}),A=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"layout"},n.a.createElement(U,null),n.a.createElement(E.a,null,n.a.createElement("hr",null),n.a.createElement("main",null,n.a.createElement(j.c,null,n.a.createElement(j.a,{path:"/",component:k,exact:!0}),n.a.createElement(j.a,{path:"/review/add-review",component:_,exact:!0}),n.a.createElement(j.a,{path:"/review/:movieId",component:O,exact:!0}),n.a.createElement(j.a,{path:"/*",component:R})))),n.a.createElement(F,null))}}]),a}(r.Component);a(84);s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)})),function(){var e=["color: green","background: yellow","font-size: 30px","border: 4px solid red","text-shadow: 2px 2px black","padding: 10px"].join(";"),t=["color: black","font-size: 20px","border-top: 4px solid red","border-right: 4px solid red","border-left: 4px solid red","padding: 10px"].join(";"),a=["color: black","font-size: 20px","border-right: 4px solid red","border-left: 4px solid red","padding: 10px"].join(";"),r=["color: black","font-size: 20px","border-bottom: 4px solid red","border-right: 4px solid red","border-left: 4px solid red","padding: 10px"].join(";");console.log("%cHello There",e),console.log("%cIf you came all the way here you're probably looking for something           ",t),console.log("%cIf you do find any errors or even if you have any suggestions for improvement",a),console.log("%cPlease let me know here - dshir27@gmail.com                                  ",r)}()}},[[46,1,2]]]);
//# sourceMappingURL=main.bcb816aa.chunk.js.map